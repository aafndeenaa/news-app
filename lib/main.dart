import 'package:bloc/bloc.dart';import 'package:flutter/material.dart';import 'package:flutter/services.dart';import 'package:flutter_app/layout/news_app/cubit/cubit.dart';import 'package:flutter_app/shared/network/local/cash_helper.dart';import 'package:flutter_app/shared/network/remote/dio_helper.dart';import 'package:flutter_bloc/flutter_bloc.dart';import 'package:hexcolor/hexcolor.dart';import 'layout/news_app/cubit/states.dart';import 'layout/news_app/news_app_layout.dart';import 'shared/bloc observer/observer.dart';void main() async {  WidgetsFlutterBinding.ensureInitialized();  Bloc.observer = MyBlocObserver();  DioHelper.init();  await CashHelper.int();  bool isDark = CashHelper.getData(key: 'isDark');  runApp(FirstApp(isDark));}class FirstApp extends StatelessWidget {  final bool isDark;  FirstApp(this.isDark);  @override  Widget build(BuildContext context) {    return MultiBlocProvider(      providers: [        BlocProvider(          create: (BuildContext context) => NewsCubit()            ..getBusiness()            ..getSports()            ..getScience(),        ),        BlocProvider(          create: (BuildContext context) => NewsCubit()            ..changeAppModeTheme(              fromShared: isDark,            ),        )      ],      child: BlocConsumer<NewsCubit, NewsStates>(        listener: (context, state) {},        builder: (context, state) {          return MaterialApp(            theme: ThemeData(              primarySwatch: Colors.deepOrange,              scaffoldBackgroundColor: Colors.white,              appBarTheme: AppBarTheme(                titleSpacing: 13.0,                iconTheme: (IconThemeData(color: Colors.black)),                systemOverlayStyle: SystemUiOverlayStyle(                  statusBarColor: Colors.white,                  statusBarIconBrightness: Brightness.dark,                ),                backgroundColor: Colors.white,                elevation: 0.00,                titleTextStyle: TextStyle(                  color: Colors.black,                  fontWeight: FontWeight.bold,                  fontSize: 24.0,                ),              ),              bottomNavigationBarTheme: BottomNavigationBarThemeData(                selectedItemColor: Colors.deepOrangeAccent,                type: BottomNavigationBarType.fixed,                unselectedItemColor: Colors.grey,                backgroundColor: Colors.white,              ),              textTheme: TextTheme(                bodyText1: TextStyle(                  fontSize: 18,                  fontWeight: FontWeight.w600,                  color: Colors.black,                ),              ),            ),            darkTheme: ThemeData(              primarySwatch: Colors.deepOrange,              scaffoldBackgroundColor: HexColor('333739'),              bottomNavigationBarTheme: BottomNavigationBarThemeData(                selectedItemColor: Colors.deepOrangeAccent,                type: BottomNavigationBarType.fixed,                unselectedItemColor: Colors.grey,                backgroundColor: HexColor('333739'),              ),              appBarTheme: AppBarTheme(                titleSpacing: 13.0,                iconTheme: (IconThemeData(color: Colors.white)),                systemOverlayStyle: SystemUiOverlayStyle(                  statusBarColor: HexColor('333739'),                  statusBarIconBrightness: Brightness.light,                ),                backgroundColor: HexColor('333739'),                elevation: 10.00,                titleTextStyle: TextStyle(                  color: Colors.white,                  fontWeight: FontWeight.bold,                  fontSize: 24.0,                ),              ),              textTheme: TextTheme(                bodyText1: TextStyle(                  fontSize: 18,                  fontWeight: FontWeight.w600,                  color: Colors.white,                ),              ),            ),            themeMode: NewsCubit.get(context).isDark                ? ThemeMode.light                : ThemeMode.dark,            debugShowCheckedModeBanner: false,            home: NewsLayout(),          );        },      ),    );  }}// https://newsapi.org/v2/top-headlines?country=eg&apiKey=50ddc46cb8fd4121af88c48bdb0637e5